"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[411],{5577:(n,t,e)=>{e.r(t),e.d(t,{assets:()=>s,contentTitle:()=>a,default:()=>u,frontMatter:()=>i,metadata:()=>c,toc:()=>d});var r=e(4848),o=e(8453);const i={sidebar_position:5},a="Enhanced Input \u96c6\u6210",c={id:"documentation/primary-features/enhanced-input-integration",title:"Enhanced Input \u96c6\u6210",description:"\u84dd\u56fe\u5bf9\u8f93\u5165\u7cfb\u7edf\u505a\u4e86\u7279\u6b8a\u652f\u6301\uff0c\u53ef\u4ee5\u81ea\u52a8\u7ed1\u5b9a\u8f93\u5165\u4e8b\u4ef6\u3002",source:"@site/docs/documentation/primary-features/enhanced-input-integration.mdx",sourceDirName:"documentation/primary-features",slug:"/documentation/primary-features/enhanced-input-integration",permalink:"/ZSharpDoc/docs/documentation/primary-features/enhanced-input-integration",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"docSidebar",previous:{title:"Gameplay Tags \u96c6\u6210",permalink:"/ZSharpDoc/docs/documentation/primary-features/gameplay-tags-integration"},next:{title:"\u9ad8\u7ea7\u7279\u6027",permalink:"/ZSharpDoc/docs/category/\u9ad8\u7ea7\u7279\u6027"}},s={},d=[];function p(n){const t={admonition:"admonition",code:"code",h1:"h1",header:"header",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...n.components},{ZDocHeader:e}=t;return e||function(n,t){throw new Error("Expected "+(t?"component":"object")+" `"+n+"` to be defined: you likely forgot to import, pass, or provide it.")}("ZDocHeader",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"enhanced-input-\u96c6\u6210",children:"Enhanced Input \u96c6\u6210"})}),"\n",(0,r.jsx)(e,{lastUpdate:"2025-01-03"}),"\n",(0,r.jsx)(t.p,{children:"\u84dd\u56fe\u5bf9\u8f93\u5165\u7cfb\u7edf\u505a\u4e86\u7279\u6b8a\u652f\u6301\uff0c\u53ef\u4ee5\u81ea\u52a8\u7ed1\u5b9a\u8f93\u5165\u4e8b\u4ef6\u3002\r\n\u7531\u4e8e\u6280\u672f\u539f\u56e0\uff0cZ# \u6ca1\u529e\u6cd5\u505a\u5230\u548c\u84dd\u56fe\u4e00\u6837\uff0c\u5f00\u53d1\u8005\u9700\u8981\u624b\u52a8\u7ed1\u5b9a\u8f93\u5165\u4e8b\u4ef6\u3002"}),"\n",(0,r.jsx)(t.admonition,{type:"info",children:(0,r.jsxs)(t.p,{children:["\u65e0\u6cd5\u81ea\u52a8\u7ed1\u5b9a\u7684\u539f\u56e0\u662f ",(0,r.jsx)(t.strong,{children:"UInputDelegateBinding::SupportsInputDelegate()"})," \u51fd\u6570\u8981\u6c42\u76ee\u6807\u662f\u4e00\u4e2a\u84dd\u56fe\u7c7b\uff0c\u800c\u52a8\u6001\u7c7b\u662f\u4e00\u4e2a Native \u7c7b\uff0c\u6240\u4ee5\u65e0\u6cd5\u652f\u6301\u3002\r\n\u5982\u679c\u5f00\u53d1\u8005\u53ef\u4ee5\u4fee\u6539\u5f15\u64ce\u6e90\u7801\uff0c\u7406\u8bba\u4e0a\u53ef\u4ee5\u52a0\u5165\u81ea\u52a8\u7ed1\u5b9a\u673a\u5236\u3002"]})}),"\n",(0,r.jsx)(t.p,{children:"\u4ee5\u4e0b\u793a\u4f8b\u4ee3\u7801\u5c55\u793a\u4e86\u5982\u4f55\u5728\u811a\u672c\u4e2d\u7ed1\u5b9a Enhanced Input \u7684\u8f93\u5165\u4e8b\u4ef6\uff1a"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-cs",children:"PlayerController pc = ...;\r\nEnhancedInputLocalPlayerSubsystem? subsystem = pc.GetSubsystem<EnhancedInputLocalPlayerSubsystem>();\r\nif (subsystem is null)\r\n{\r\n    return;\r\n}\r\n\r\nInputMappingContext imc = ...;\r\nsubsystem.AddMappingContext(imc, 0);\r\n\r\nEnhancedInputComponent component = ...;\r\nInputAction inputActionMove = ...;\r\nUnrealObject handle = component.BindAction(inputActionMove, ETriggerEvent.Triggered, static (value, _, _, _, @this) =>\r\n{\r\n    var (right, forward) = value;\r\n    Rotator controlRot = @this.GetControlRotation();\r\n    controlRot.Pitch = controlRot.Roll = 0;\r\n    Quat quat = KismetMathLibrary.Conv_RotatorToQuaternion(controlRot);\r\n    Vector worldDir = KismetMathLibrary.Quat_RotateVector(quat, new(forward, right, 0));\r\n    \r\n    @this.AddMovementInput(worldDir, (float)Math.Sqrt(right * right + forward * forward));\r\n}, this);\n"})}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"BindAction()"})," \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a UnrealObject \u7c7b\u578b\u7684\u53e5\u67c4\uff0c\u8fd9\u548c\u7ed1\u5b9a\u59d4\u6258\u65f6\u662f\u4e00\u6837\u7684\u3002\r\n\u5f00\u53d1\u8005\u9700\u8981\u5c06\u8fd9\u4e2a\u53e5\u67c4\u7f13\u5b58\u5230\u4e00\u4e2a ",(0,r.jsx)(t.code,{children:"UProperty"})," \u6216\u8005 ",(0,r.jsx)(t.code,{children:"StrongObjectPtr"})," \u4e2d\u6765\u4fdd\u6301\u5bf9\u5b83\u7684\u5f15\u7528\u3002"]}),"\n",(0,r.jsxs)(t.p,{children:["\u7ed1\u5b9a\u8f93\u5165\u4e8b\u4ef6\u7684\u903b\u8f91\u63a8\u8350\u5199\u5728 ",(0,r.jsx)(t.code,{children:"SetupInputComponent()"})," \u51fd\u6570\u4e2d\uff0c\u4f46\u7531\u4e8e\u8fd9\u4e2a\u51fd\u6570\u6ca1\u6709\u5bfc\u51fa\u7ed9\u811a\u672c\uff0c\u9700\u8981\u5f00\u53d1\u8005\u81ea\u884c\u5bfc\u51fa\u3002"]})]})}function u(n={}){const{wrapper:t}={...(0,o.R)(),...n.components};return t?(0,r.jsx)(t,{...n,children:(0,r.jsx)(p,{...n})}):p(n)}},8453:(n,t,e)=>{e.d(t,{R:()=>a,x:()=>c});var r=e(6540);const o={},i=r.createContext(o);function a(n){const t=r.useContext(i);return r.useMemo((function(){return"function"==typeof n?n(t):{...t,...n}}),[t,n])}function c(n){let t;return t=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:a(n.components),r.createElement(i.Provider,{value:t},n.children)}}}]);